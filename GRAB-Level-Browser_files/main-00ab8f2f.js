import{s as Mt,u as ue,c as z,r as lt,n as Bt,d as ct,i as fe,h as ut,p as Pe,a as xt,w as Ot,_ as $,b as A,o as u,e as p,f as m,g as V,j as dt,F as D,k as Y,l as X,m as P,q as C,t as q,v as k,x,y as oe,z as B,T as Ut,A as Ht,B as Dt,C as be,D as me,E as Nt,G as ht,H as jt,S as qt,I as Vt,P as Ft,M as zt,J as Gt,K as Kt,L as Qt}from"./App-c7e42d66.js";/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const se=typeof window<"u";function Wt(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const T=Object.assign;function Ee(e,t){const s={};for(const r in t){const o=t[r];s[r]=G(o)?o.map(e):e(o)}return s}const de=()=>{},G=Array.isArray,Jt=/\/$/,Yt=e=>e.replace(Jt,"");function $e(e,t,s="/"){let r,o={},n="",i="";const d=t.indexOf("#");let a=t.indexOf("?");return d<a&&d>=0&&(a=-1),a>-1&&(r=t.slice(0,a),n=t.slice(a+1,d>-1?d:t.length),o=e(n)),d>-1&&(r=r||t.slice(0,d),i=t.slice(d,t.length)),r=ts(r??t,s),{fullPath:r+(n&&"?")+n+i,path:r,query:o,hash:i}}function Xt(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Ge(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Zt(e,t,s){const r=t.matched.length-1,o=s.matched.length-1;return r>-1&&r===o&&ne(t.matched[r],s.matched[o])&&ft(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function ne(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ft(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!es(e[s],t[s]))return!1;return!0}function es(e,t){return G(e)?Ke(e,t):G(t)?Ke(t,e):e===t}function Ke(e,t){return G(t)?e.length===t.length&&e.every((s,r)=>s===t[r]):e.length===1&&e[0]===t}function ts(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),r=e.split("/");let o=s.length-1,n,i;for(n=0;n<r.length;n++)if(i=r[n],i!==".")if(i==="..")o>1&&o--;else break;return s.slice(0,o).join("/")+"/"+r.slice(n-(n===r.length?1:0)).join("/")}var _e;(function(e){e.pop="pop",e.push="push"})(_e||(_e={}));var he;(function(e){e.back="back",e.forward="forward",e.unknown=""})(he||(he={}));function ss(e){if(!e)if(se){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Yt(e)}const ns=/^[^#]+#/;function rs(e,t){return e.replace(ns,"#")+t}function os(e,t){const s=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-s.left-(t.left||0),top:r.top-s.top-(t.top||0)}}const ke=()=>({left:window.pageXOffset,top:window.pageYOffset});function is(e){let t;if("el"in e){const s=e.el,r=typeof s=="string"&&s.startsWith("#"),o=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!o)return;t=os(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Qe(e,t){return(history.state?history.state.position-t:-1)+e}const Be=new Map;function as(e,t){Be.set(e,t)}function ls(e){const t=Be.get(e);return Be.delete(e),t}let cs=()=>location.protocol+"//"+location.host;function _t(e,t){const{pathname:s,search:r,hash:o}=t,n=e.indexOf("#");if(n>-1){let d=o.includes(e.slice(n))?e.slice(n).length:1,a=o.slice(d);return a[0]!=="/"&&(a="/"+a),Ge(a,"")}return Ge(s,e)+r+o}function us(e,t,s,r){let o=[],n=[],i=null;const d=({state:h})=>{const g=_t(e,location),L=s.value,O=t.value;let M=0;if(h){if(s.value=g,t.value=h,i&&i===L){i=null;return}M=O?h.position-O.position:0}else r(g);o.forEach(S=>{S(s.value,L,{delta:M,type:_e.pop,direction:M?M>0?he.forward:he.back:he.unknown})})};function a(){i=s.value}function f(h){o.push(h);const g=()=>{const L=o.indexOf(h);L>-1&&o.splice(L,1)};return n.push(g),g}function l(){const{history:h}=window;h.state&&h.replaceState(T({},h.state,{scroll:ke()}),"")}function _(){for(const h of n)h();n=[],window.removeEventListener("popstate",d),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",d),window.addEventListener("beforeunload",l),{pauseListeners:a,listen:f,destroy:_}}function We(e,t,s,r=!1,o=!1){return{back:e,current:t,forward:s,replaced:r,position:window.history.length,scroll:o?ke():null}}function ds(e){const{history:t,location:s}=window,r={value:_t(e,s)},o={value:t.state};o.value||n(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function n(a,f,l){const _=e.indexOf("#"),h=_>-1?(s.host&&document.querySelector("base")?e:e.slice(_))+a:cs()+e+a;try{t[l?"replaceState":"pushState"](f,"",h),o.value=f}catch(g){console.error(g),s[l?"replace":"assign"](h)}}function i(a,f){const l=T({},t.state,We(o.value.back,a,o.value.forward,!0),f,{position:o.value.position});n(a,l,!0),r.value=a}function d(a,f){const l=T({},o.value,t.state,{forward:a,scroll:ke()});n(l.current,l,!0);const _=T({},We(r.value,a,null),{position:l.position+1},f);n(a,_,!1),r.value=a}return{location:r,state:o,push:d,replace:i}}function hs(e){e=ss(e);const t=ds(e),s=us(e,t.state,t.location,t.replace);function r(n,i=!0){i||s.pauseListeners(),history.go(n)}const o=T({location:"",base:e,go:r,createHref:rs.bind(null,e)},t,s);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function fs(e){return typeof e=="string"||e&&typeof e=="object"}function pt(e){return typeof e=="string"||typeof e=="symbol"}const W={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},vt=Symbol("");var Je;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Je||(Je={}));function re(e,t){return T(new Error,{type:e,[vt]:!0},t)}function Q(e,t){return e instanceof Error&&vt in e&&(t==null||!!(e.type&t))}const Ye="[^/]+?",_s={sensitive:!1,strict:!1,start:!0,end:!0},ps=/[.+*?^${}()[\]/\\]/g;function vs(e,t){const s=T({},_s,t),r=[];let o=s.start?"^":"";const n=[];for(const f of e){const l=f.length?[]:[90];s.strict&&!f.length&&(o+="/");for(let _=0;_<f.length;_++){const h=f[_];let g=40+(s.sensitive?.25:0);if(h.type===0)_||(o+="/"),o+=h.value.replace(ps,"\\$&"),g+=40;else if(h.type===1){const{value:L,repeatable:O,optional:M,regexp:S}=h;n.push({name:L,repeatable:O,optional:M});const I=S||Ye;if(I!==Ye){g+=10;try{new RegExp(`(${I})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${L}" (${I}): `+F.message)}}let N=O?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;_||(N=M&&f.length<2?`(?:/${N})`:"/"+N),M&&(N+="?"),o+=N,g+=20,M&&(g+=-8),O&&(g+=-20),I===".*"&&(g+=-50)}l.push(g)}r.push(l)}if(s.strict&&s.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}s.strict||(o+="/?"),s.end?o+="$":s.strict&&(o+="(?:/|$)");const i=new RegExp(o,s.sensitive?"":"i");function d(f){const l=f.match(i),_={};if(!l)return null;for(let h=1;h<l.length;h++){const g=l[h]||"",L=n[h-1];_[L.name]=g&&L.repeatable?g.split("/"):g}return _}function a(f){let l="",_=!1;for(const h of e){(!_||!l.endsWith("/"))&&(l+="/"),_=!1;for(const g of h)if(g.type===0)l+=g.value;else if(g.type===1){const{value:L,repeatable:O,optional:M}=g,S=L in f?f[L]:"";if(G(S)&&!O)throw new Error(`Provided param "${L}" is an array but it is not repeatable (* or + modifiers)`);const I=G(S)?S.join("/"):S;if(!I)if(M)h.length<2&&(l.endsWith("/")?l=l.slice(0,-1):_=!0);else throw new Error(`Missing required param "${L}"`);l+=I}}return l||"/"}return{re:i,score:r,keys:n,parse:d,stringify:a}}function ms(e,t){let s=0;for(;s<e.length&&s<t.length;){const r=t[s]-e[s];if(r)return r;s++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function ys(e,t){let s=0;const r=e.score,o=t.score;for(;s<r.length&&s<o.length;){const n=ms(r[s],o[s]);if(n)return n;s++}if(Math.abs(o.length-r.length)===1){if(Xe(r))return 1;if(Xe(o))return-1}return o.length-r.length}function Xe(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const gs={type:0,value:""},bs=/[a-zA-Z0-9_]/;function ks(e){if(!e)return[[]];if(e==="/")return[[gs]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${s})/"${f}": ${g}`)}let s=0,r=s;const o=[];let n;function i(){n&&o.push(n),n=[]}let d=0,a,f="",l="";function _(){f&&(s===0?n.push({type:0,value:f}):s===1||s===2||s===3?(n.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),n.push({type:1,value:f,regexp:l,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),f="")}function h(){f+=a}for(;d<e.length;){if(a=e[d++],a==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:a==="/"?(f&&_(),i()):a===":"?(_(),s=1):h();break;case 4:h(),s=r;break;case 1:a==="("?s=2:bs.test(a)?h():(_(),s=0,a!=="*"&&a!=="?"&&a!=="+"&&d--);break;case 2:a===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+a:s=3:l+=a;break;case 3:_(),s=0,a!=="*"&&a!=="?"&&a!=="+"&&d--,l="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${f}"`),_(),i(),o}function ws(e,t,s){const r=vs(ks(e.path),s),o=T(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Ls(e,t){const s=[],r=new Map;t=tt({strict:!1,end:!0,sensitive:!1},t);function o(l){return r.get(l)}function n(l,_,h){const g=!h,L=Cs(l);L.aliasOf=h&&h.record;const O=tt(t,l),M=[L];if("alias"in l){const N=typeof l.alias=="string"?[l.alias]:l.alias;for(const F of N)M.push(T({},L,{components:h?h.record.components:L.components,path:F,aliasOf:h?h.record:L}))}let S,I;for(const N of M){const{path:F}=N;if(_&&F[0]!=="/"){const Z=_.record.path,K=Z[Z.length-1]==="/"?"":"/";N.path=_.record.path+(F&&K+F)}if(S=ws(N,_,O),h?h.alias.push(S):(I=I||S,I!==S&&I.alias.push(S),g&&l.name&&!et(S)&&i(l.name)),L.children){const Z=L.children;for(let K=0;K<Z.length;K++)n(Z[K],S,h&&h.children[K])}h=h||S,(S.record.components&&Object.keys(S.record.components).length||S.record.name||S.record.redirect)&&a(S)}return I?()=>{i(I)}:de}function i(l){if(pt(l)){const _=r.get(l);_&&(r.delete(l),s.splice(s.indexOf(_),1),_.children.forEach(i),_.alias.forEach(i))}else{const _=s.indexOf(l);_>-1&&(s.splice(_,1),l.record.name&&r.delete(l.record.name),l.children.forEach(i),l.alias.forEach(i))}}function d(){return s}function a(l){let _=0;for(;_<s.length&&ys(l,s[_])>=0&&(l.record.path!==s[_].record.path||!mt(l,s[_]));)_++;s.splice(_,0,l),l.record.name&&!et(l)&&r.set(l.record.name,l)}function f(l,_){let h,g={},L,O;if("name"in l&&l.name){if(h=r.get(l.name),!h)throw re(1,{location:l});O=h.record.name,g=T(Ze(_.params,h.keys.filter(I=>!I.optional).map(I=>I.name)),l.params&&Ze(l.params,h.keys.map(I=>I.name))),L=h.stringify(g)}else if("path"in l)L=l.path,h=s.find(I=>I.re.test(L)),h&&(g=h.parse(L),O=h.record.name);else{if(h=_.name?r.get(_.name):s.find(I=>I.re.test(_.path)),!h)throw re(1,{location:l,currentLocation:_});O=h.record.name,g=T({},_.params,l.params),L=h.stringify(g)}const M=[];let S=h;for(;S;)M.unshift(S.record),S=S.parent;return{name:O,path:L,params:g,matched:M,meta:Rs(M)}}return e.forEach(l=>n(l)),{addRoute:n,resolve:f,removeRoute:i,getRoutes:d,getRecordMatcher:o}}function Ze(e,t){const s={};for(const r of t)r in e&&(s[r]=e[r]);return s}function Cs(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Ss(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Ss(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const r in e.components)t[r]=typeof s=="boolean"?s:s[r];return t}function et(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Rs(e){return e.reduce((t,s)=>T(t,s.meta),{})}function tt(e,t){const s={};for(const r in e)s[r]=r in t?t[r]:e[r];return s}function mt(e,t){return t.children.some(s=>s===e||mt(e,s))}const yt=/#/g,Is=/&/g,Ts=/\//g,As=/=/g,Ps=/\?/g,gt=/\+/g,Es=/%5B/g,$s=/%5D/g,bt=/%5E/g,Ms=/%60/g,kt=/%7B/g,Bs=/%7C/g,wt=/%7D/g,xs=/%20/g;function He(e){return encodeURI(""+e).replace(Bs,"|").replace(Es,"[").replace($s,"]")}function Os(e){return He(e).replace(kt,"{").replace(wt,"}").replace(bt,"^")}function xe(e){return He(e).replace(gt,"%2B").replace(xs,"+").replace(yt,"%23").replace(Is,"%26").replace(Ms,"`").replace(kt,"{").replace(wt,"}").replace(bt,"^")}function Us(e){return xe(e).replace(As,"%3D")}function Hs(e){return He(e).replace(yt,"%23").replace(Ps,"%3F")}function Ds(e){return e==null?"":Hs(e).replace(Ts,"%2F")}function ye(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Ns(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const n=r[o].replace(gt," "),i=n.indexOf("="),d=ye(i<0?n:n.slice(0,i)),a=i<0?null:ye(n.slice(i+1));if(d in t){let f=t[d];G(f)||(f=t[d]=[f]),f.push(a)}else t[d]=a}return t}function st(e){let t="";for(let s in e){const r=e[s];if(s=Us(s),r==null){r!==void 0&&(t+=(t.length?"&":"")+s);continue}(G(r)?r.map(n=>n&&xe(n)):[r&&xe(r)]).forEach(n=>{n!==void 0&&(t+=(t.length?"&":"")+s,n!=null&&(t+="="+n))})}return t}function js(e){const t={};for(const s in e){const r=e[s];r!==void 0&&(t[s]=G(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const qs=Symbol(""),nt=Symbol(""),De=Symbol(""),Lt=Symbol(""),Oe=Symbol("");function ce(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function s(){e=[]}return{add:t,list:()=>e,reset:s}}function J(e,t,s,r,o){const n=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((i,d)=>{const a=_=>{_===!1?d(re(4,{from:s,to:t})):_ instanceof Error?d(_):fs(_)?d(re(2,{from:t,to:_})):(n&&r.enterCallbacks[o]===n&&typeof _=="function"&&n.push(_),i())},f=e.call(r&&r.instances[o],t,s,a);let l=Promise.resolve(f);e.length<3&&(l=l.then(a)),l.catch(_=>d(_))})}function Me(e,t,s,r){const o=[];for(const n of e)for(const i in n.components){let d=n.components[i];if(!(t!=="beforeRouteEnter"&&!n.instances[i]))if(Vs(d)){const f=(d.__vccOpts||d)[t];f&&o.push(J(f,s,r,n,i))}else{let a=d();o.push(()=>a.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${n.path}"`));const l=Wt(f)?f.default:f;n.components[i]=l;const h=(l.__vccOpts||l)[t];return h&&J(h,s,r,n,i)()}))}}return o}function Vs(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function rt(e){const t=fe(De),s=fe(Lt),r=z(()=>t.resolve(ue(e.to))),o=z(()=>{const{matched:a}=r.value,{length:f}=a,l=a[f-1],_=s.matched;if(!l||!_.length)return-1;const h=_.findIndex(ne.bind(null,l));if(h>-1)return h;const g=ot(a[f-2]);return f>1&&ot(l)===g&&_[_.length-1].path!==g?_.findIndex(ne.bind(null,a[f-2])):h}),n=z(()=>o.value>-1&&Ks(s.params,r.value.params)),i=z(()=>o.value>-1&&o.value===s.matched.length-1&&ft(s.params,r.value.params));function d(a={}){return Gs(a)?t[ue(e.replace)?"replace":"push"](ue(e.to)).catch(de):Promise.resolve()}return{route:r,href:z(()=>r.value.href),isActive:n,isExactActive:i,navigate:d}}const Fs=ct({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:rt,setup(e,{slots:t}){const s=lt(rt(e)),{options:r}=fe(De),o=z(()=>({[it(e.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[it(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const n=t.default&&t.default(s);return e.custom?n:ut("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:o.value},n)}}}),zs=Fs;function Gs(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ks(e,t){for(const s in t){const r=t[s],o=e[s];if(typeof r=="string"){if(r!==o)return!1}else if(!G(o)||o.length!==r.length||r.some((n,i)=>n!==o[i]))return!1}return!0}function ot(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const it=(e,t,s)=>e??t??s,Qs=ct({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const r=fe(Oe),o=z(()=>e.route||r.value),n=fe(nt,0),i=z(()=>{let f=ue(n);const{matched:l}=o.value;let _;for(;(_=l[f])&&!_.components;)f++;return f}),d=z(()=>o.value.matched[i.value]);Pe(nt,z(()=>i.value+1)),Pe(qs,d),Pe(Oe,o);const a=xt();return Ot(()=>[a.value,d.value,e.name],([f,l,_],[h,g,L])=>{l&&(l.instances[_]=f,g&&g!==l&&f&&f===h&&(l.leaveGuards.size||(l.leaveGuards=g.leaveGuards),l.updateGuards.size||(l.updateGuards=g.updateGuards))),f&&l&&(!g||!ne(l,g)||!h)&&(l.enterCallbacks[_]||[]).forEach(O=>O(f))},{flush:"post"}),()=>{const f=o.value,l=e.name,_=d.value,h=_&&_.components[l];if(!h)return at(s.default,{Component:h,route:f});const g=_.props[l],L=g?g===!0?f.params:typeof g=="function"?g(f):g:null,M=ut(h,T({},L,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(_.instances[l]=null)},ref:a}));return at(s.default,{Component:M,route:f})||M}}});function at(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Ws=Qs;function Js(e){const t=Ls(e.routes,e),s=e.parseQuery||Ns,r=e.stringifyQuery||st,o=e.history,n=ce(),i=ce(),d=ce(),a=Mt(W);let f=W;se&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=Ee.bind(null,c=>""+c),_=Ee.bind(null,Ds),h=Ee.bind(null,ye);function g(c,y){let v,b;return pt(c)?(v=t.getRecordMatcher(c),b=y):b=c,t.addRoute(b,v)}function L(c){const y=t.getRecordMatcher(c);y&&t.removeRoute(y)}function O(){return t.getRoutes().map(c=>c.record)}function M(c){return!!t.getRecordMatcher(c)}function S(c,y){if(y=T({},y||a.value),typeof c=="string"){const w=$e(s,c,y.path),H=t.resolve({path:w.path},y),le=o.createHref(w.fullPath);return T(w,H,{params:h(H.params),hash:ye(w.hash),redirectedFrom:void 0,href:le})}let v;if("path"in c)v=T({},c,{path:$e(s,c.path,y.path).path});else{const w=T({},c.params);for(const H in w)w[H]==null&&delete w[H];v=T({},c,{params:_(c.params)}),y.params=_(y.params)}const b=t.resolve(v,y),E=c.hash||"";b.params=l(h(b.params));const U=Xt(r,T({},c,{hash:Os(E),path:b.path})),R=o.createHref(U);return T({fullPath:U,hash:E,query:r===st?js(c.query):c.query||{}},b,{redirectedFrom:void 0,href:R})}function I(c){return typeof c=="string"?$e(s,c,a.value.path):T({},c)}function N(c,y){if(f!==c)return re(8,{from:y,to:c})}function F(c){return ie(c)}function Z(c){return F(T(I(c),{replace:!0}))}function K(c){const y=c.matched[c.matched.length-1];if(y&&y.redirect){const{redirect:v}=y;let b=typeof v=="function"?v(c):v;return typeof b=="string"&&(b=b.includes("?")||b.includes("#")?b=I(b):{path:b},b.params={}),T({query:c.query,hash:c.hash,params:"path"in b?{}:c.params},b)}}function ie(c,y){const v=f=S(c),b=a.value,E=c.state,U=c.force,R=c.replace===!0,w=K(v);if(w)return ie(T(I(w),{state:typeof w=="object"?T({},E,w.state):E,force:U,replace:R}),y||v);const H=v;H.redirectedFrom=y;let le;return!U&&Zt(r,b,v)&&(le=re(16,{to:H,from:b}),Fe(b,b,!0,!1)),(le?Promise.resolve(le):Ne(H,b)).catch(j=>Q(j)?Q(j,2)?j:Re(j):Se(j,H,b)).then(j=>{if(j){if(Q(j,2))return ie(T({replace:R},I(j.to),{state:typeof j.to=="object"?T({},E,j.to.state):E,force:U}),y||H)}else j=qe(H,b,!0,R,E);return je(H,b,j),j})}function Pt(c,y){const v=N(c,y);return v?Promise.reject(v):Promise.resolve()}function Ne(c,y){let v;const[b,E,U]=Ys(c,y);v=Me(b.reverse(),"beforeRouteLeave",c,y);for(const w of b)w.leaveGuards.forEach(H=>{v.push(J(H,c,y))});const R=Pt.bind(null,c,y);return v.push(R),te(v).then(()=>{v=[];for(const w of n.list())v.push(J(w,c,y));return v.push(R),te(v)}).then(()=>{v=Me(E,"beforeRouteUpdate",c,y);for(const w of E)w.updateGuards.forEach(H=>{v.push(J(H,c,y))});return v.push(R),te(v)}).then(()=>{v=[];for(const w of c.matched)if(w.beforeEnter&&!y.matched.includes(w))if(G(w.beforeEnter))for(const H of w.beforeEnter)v.push(J(H,c,y));else v.push(J(w.beforeEnter,c,y));return v.push(R),te(v)}).then(()=>(c.matched.forEach(w=>w.enterCallbacks={}),v=Me(U,"beforeRouteEnter",c,y),v.push(R),te(v))).then(()=>{v=[];for(const w of i.list())v.push(J(w,c,y));return v.push(R),te(v)}).catch(w=>Q(w,8)?w:Promise.reject(w))}function je(c,y,v){for(const b of d.list())b(c,y,v)}function qe(c,y,v,b,E){const U=N(c,y);if(U)return U;const R=y===W,w=se?history.state:{};v&&(b||R?o.replace(c.fullPath,T({scroll:R&&w&&w.scroll},E)):o.push(c.fullPath,E)),a.value=c,Fe(c,y,v,R),Re()}let ae;function Et(){ae||(ae=o.listen((c,y,v)=>{if(!ze.listening)return;const b=S(c),E=K(b);if(E){ie(T(E,{replace:!0}),b).catch(de);return}f=b;const U=a.value;se&&as(Qe(U.fullPath,v.delta),ke()),Ne(b,U).catch(R=>Q(R,12)?R:Q(R,2)?(ie(R.to,b).then(w=>{Q(w,20)&&!v.delta&&v.type===_e.pop&&o.go(-1,!1)}).catch(de),Promise.reject()):(v.delta&&o.go(-v.delta,!1),Se(R,b,U))).then(R=>{R=R||qe(b,U,!1),R&&(v.delta&&!Q(R,8)?o.go(-v.delta,!1):v.type===_e.pop&&Q(R,20)&&o.go(-1,!1)),je(b,U,R)}).catch(de)}))}let Ce=ce(),Ve=ce(),ve;function Se(c,y,v){Re(c);const b=Ve.list();return b.length?b.forEach(E=>E(c,y,v)):console.error(c),Promise.reject(c)}function $t(){return ve&&a.value!==W?Promise.resolve():new Promise((c,y)=>{Ce.add([c,y])})}function Re(c){return ve||(ve=!c,Et(),Ce.list().forEach(([y,v])=>c?v(c):y()),Ce.reset()),c}function Fe(c,y,v,b){const{scrollBehavior:E}=e;if(!se||!E)return Promise.resolve();const U=!v&&ls(Qe(c.fullPath,0))||(b||!v)&&history.state&&history.state.scroll||null;return Bt().then(()=>E(c,y,U)).then(R=>R&&is(R)).catch(R=>Se(R,c,y))}const Ie=c=>o.go(c);let Te;const Ae=new Set,ze={currentRoute:a,listening:!0,addRoute:g,removeRoute:L,hasRoute:M,getRoutes:O,resolve:S,options:e,push:F,replace:Z,go:Ie,back:()=>Ie(-1),forward:()=>Ie(1),beforeEach:n.add,beforeResolve:i.add,afterEach:d.add,onError:Ve.add,isReady:$t,install(c){const y=this;c.component("RouterLink",zs),c.component("RouterView",Ws),c.config.globalProperties.$router=y,Object.defineProperty(c.config.globalProperties,"$route",{enumerable:!0,get:()=>ue(a)}),se&&!Te&&a.value===W&&(Te=!0,F(o.location).catch(E=>{}));const v={};for(const E in W)v[E]=z(()=>a.value[E]);c.provide(De,y),c.provide(Lt,lt(v)),c.provide(Oe,a);const b=c.unmount;Ae.add(c),c.unmount=function(){Ae.delete(c),Ae.size<1&&(f=W,ae&&ae(),ae=null,a.value=W,Te=!1,ve=!1),b()}}};return ze}function te(e){return e.reduce((t,s)=>t.then(()=>s()),Promise.resolve())}function Ys(e,t){const s=[],r=[],o=[],n=Math.max(t.matched.length,e.matched.length);for(let i=0;i<n;i++){const d=t.matched[i];d&&(e.matched.find(f=>ne(f,d))?r.push(d):s.push(d));const a=e.matched[i];a&&(t.matched.find(f=>ne(f,a))||o.push(a))}return[s,r,o]}const Ct="/assets/logo-47a68ae5.png";const Xs={},we=e=>(Y("data-v-23026ba4"),e=e(),X(),e),Zs=we(()=>m("img",{src:Ct,alt:"GRAB Logo",class:"title-image"},null,-1)),en={class:"button-container"},tn=we(()=>m("button",{class:"start-page-button",type:"button",onclick:"window.location.href = 'https://sidequestvr.com/app/4222'"},"GET GRAB",-1)),sn=we(()=>m("button",{class:"start-page-button",type:"button"},"LEVEL BROWSER",-1)),nn=we(()=>m("button",{class:"start-page-button",type:"button",onclick:"window.location.href = 'https://discord.slin.dev'"},"DISCORD",-1));function rn(e,t,s,r,o,n){const i=A("router-link");return u(),p(D,null,[Zs,m("div",en,[tn,V(i,{to:"/levels"},{default:dt(()=>[sn]),_:1}),nn])],64)}const on=$(Xs,[["render",rn],["__scopeId","data-v-23026ba4"]]);const an={emits:["tabChanged","searchChanged"],props:{tabActive:String,searchTerm:String},data(){return{searchTypingTimer:""}},computed:{wantsSearch(){return this.tabActive==="tab_newest"||this.tabActive==="tab_search_users"},...P(C,["isLoggedIn"]),...P(C,["isModerator"]),...P(C,["isAdmin"])},methods:{setTabActive(e){this.$emit("tabChanged",{tab:e})},changedSearchTerm(e){clearTimeout(this.searchTypingTimer),this.searchTypingTimer=setTimeout(()=>{let t=e;t&&t.length>0&&(t=t.toLowerCase().replace(/[^a-z0-9]/g," ")),this.$emit("searchChanged",t)},500)}}},ln={class:"tab",id:"tabbar"},cn={key:2},un={key:3},dn=["value"];function hn(e,t,s,r,o,n){return u(),p("div",ln,[m("button",{class:q(s.tabActive==="tab_newest"?"tablinks active":"tablinks"),onClick:t[0]||(t[0]=i=>n.setTabActive("tab_newest")),id:"tab_newest"},"All Levels",2),m("button",{class:q(s.tabActive==="tab_ok"?"tablinks active":"tablinks"),onClick:t[1]||(t[1]=i=>n.setTabActive("tab_ok")),id:"tab_ok"},"Verified Levels",2),m("button",{class:q(s.tabActive==="tab_featured"?"tablinks active":"tablinks"),onClick:t[2]||(t[2]=i=>n.setTabActive("tab_featured")),id:"tab_featured"},"Featured",2),e.isLoggedIn?(u(),p("button",{key:0,class:q(s.tabActive==="tab_my_levels"?"tablinks active":"tablinks"),onClick:t[3]||(t[3]=i=>n.setTabActive("tab_my_levels")),id:"tab_my_levels"},"My Levels",2)):k("",!0),e.isLoggedIn?(u(),p("button",{key:1,class:q(s.tabActive==="tab_favorite_levels"?"tablinks active":"tablinks"),onClick:t[4]||(t[4]=i=>n.setTabActive("tab_favorite_levels")),id:"tab_favorite_levels"},"My Favorites",2)):k("",!0),m("button",{class:q(s.tabActive==="tab_search_users"?"tablinks active":"tablinks"),onClick:t[5]||(t[5]=i=>n.setTabActive("tab_search_users")),id:"tab_search_users"},"Players",2),e.isAdmin||e.isModerator?(u(),p("br",cn)):k("",!0),e.isAdmin||e.isModerator?(u(),p("br",un)):k("",!0),e.isModerator?(u(),p("button",{key:4,class:q(s.tabActive==="tab_verify_queue"?"tablinks active":"tablinks"),onClick:t[6]||(t[6]=i=>n.setTabActive("tab_verify_queue")),id:"tab_verify_queue"},"Verify Queue",2)):k("",!0),e.isAdmin?(u(),p("button",{key:5,class:q(s.tabActive==="tab_reported_levels"?"tablinks active":"tablinks"),onClick:t[7]||(t[7]=i=>n.setTabActive("tab_reported_levels")),id:"tab_reported_levels"},"Reported Levels",2)):k("",!0),e.isAdmin?(u(),p("button",{key:6,class:q(s.tabActive==="tab_reported_users"?"tablinks active":"tablinks"),onClick:t[8]||(t[8]=i=>n.setTabActive("tab_reported_users")),id:"tab_reported_users"},"Reported Users",2)):k("",!0),e.isAdmin?(u(),p("button",{key:7,class:q(s.tabActive==="tab_banned_users"?"tablinks active":"tablinks"),onClick:t[9]||(t[9]=i=>n.setTabActive("tab_banned_users")),id:"tab_banned_users"},"Banned Users",2)):k("",!0),e.isAdmin?(u(),p("button",{key:8,class:q(s.tabActive==="tab_hidden"?"tablinks active":"tablinks"),onClick:t[10]||(t[10]=i=>n.setTabActive("tab_hidden")),id:"tab_hidden"},"Hidden Levels",2)):k("",!0),n.wantsSearch?(u(),p("input",{key:9,spellcheck:"false",type:"text",id:"search_field",placeholder:"Search..",onInput:t[11]||(t[11]=i=>n.changedSearchTerm(i.target.value)),value:s.searchTerm},null,40,dn)):k("",!0)])}const fn=$(an,[["render",hn],["__scopeId","data-v-7843a5bb"]]);async function _n(e,t){const s=await fetch(e+"total_level_count?type="+t),r=await s.text();return s.status!=200?(confirm("Error: "+r),!1):r}const pn={props:{tabActive:String},data(){return{count:0}},methods:{async updateCounter(){if(this.count=void 0,this.tabActive==="tab_favorite_levels"){const e=C();this.count=e.favoriteLevels.length}else{const e=this.tabActive,t=await _n(this.$api_server_url,this.tabActive.replace("tab_",""));t!==!1&&e===this.tabActive&&(this.count=t)}}},created(){this.updateCounter()},watch:{tabActive(e){this.updateCounter()}}},vn={key:0,class:"level-tab-title"};function mn(e,t,s,r,o,n){return o.count?(u(),p("div",vn," Level count: "+x(o.count),1)):k("",!0)}const yn=$(pn,[["render",mn],["__scopeId","data-v-e9b96b35"]]);async function gn(e,t){const s=await fetch(e+"get_user_info?user_id="+t),r=await s.text();return s.status!=200?(confirm("Error: "+r),!1):JSON.parse(r)}const bn={props:{otherUserID:String},computed:{...P(C,["userID"])},data(){return{name:void 0,count:void 0}},methods:{async updateCounter(){this.count=void 0,this.name=void 0;const e=this.otherUserID?this.otherUserID:this.userID;if(!e)return;const t=await gn(this.$api_server_url,e);t===!1||e!==(this.otherUserID?this.otherUserID:this.userID)||(console.log(t),this.count=t.user_level_count,this.name=t.user_name)}},created(){this.updateCounter()},watch:{otherUserID(e){this.updateCounter()}}},kn={class:"user-tab-title-container"},wn={key:0,class:"user-tab-name"},Ln={key:1,class:"user-tab-count"};function Cn(e,t,s,r,o,n){return u(),p("div",kn,[o.name?(u(),p("div",wn,x(o.name),1)):k("",!0),o.count?(u(),p("div",Ln," Level count: "+x(o.count),1)):k("",!0)])}const Sn=$(bn,[["render",Cn],["__scopeId","data-v-d276d79c"]]);const Rn={props:{info:Object},computed:{isBan(){return this.info.type==="ban"},cleanInfo(){let e=this.info;return"date_end"in e&&!this.isBan&&delete e.date_end,Object.entries(e).map(function(t){return t[0].includes("date_")?[t[0].slice(5),new Date(t[1]).toDateString()]:t})}}},In=e=>(Y("data-v-e8e1197b"),e=e(),X(),e),Tn={class:"moderation-info"},An=In(()=>m("br",null,null,-1));function Pn(e,t,s,r,o,n){return u(),p("div",Tn,[(u(!0),p(D,null,oe(n.cleanInfo,i=>(u(),p("div",null,x(i[0])+": "+x(i[1]),1))),256)),An])}const St=$(Rn,[["render",Pn],["__scopeId","data-v-e8e1197b"]]);async function En(e,t,s,r){const o=s.split(":"),n=o[0]+"/"+o[1],i=await fetch(e+"report/"+n+"?reason="+r,{headers:{Authorization:"Bearer "+t}}),d=await i.text();return i.status!=200||d!=="Success"?(confirm("Error: "+d),!1):!0}async function $n(e,t,s){const r=s.split(":"),o=r[0]+"/"+r[1],n=await fetch(e+"hide/"+o,{headers:{Authorization:"Bearer "+t}}),i=await n.text();return n.status!=200||i!=="Success"?(confirm("Error: "+i),!1):!0}async function ge(e,t,s){const r=await fetch(e+"reports_reset/"+s,{headers:{Authorization:"Bearer "+t}}),o=await r.text();return r.status!=200||o!=="Success"?(confirm("Error: "+o),!1):!0}async function Ue(e,t,s,r){let o="";r==="level_glitch"?o+="?reason=message&type=message&message=A+level+you+published+relies+on+a+glitch+that+is+not+working+anymore.+If+you+fix+the+level,+please+let+me+know+through+discord+or+tiktok+to+make+it+available+again.":o+="?reason="+r;const n=await fetch(e+"moderation_action/"+s+o,{headers:{Authorization:"Bearer "+t}}),i=await n.text();return n.status!=200||i!=="Success"?(confirm("Error: "+i),!1):!0}const Mn={emits:["close","handled"],props:{show:Boolean,config:String,identifier:String},data(){return{currentSelection:""}},computed:{options(){if(this.config.includes("level_")){let e=[{reason:"level_sexual",title:"Sexual Content / Genitals"},{reason:"level_violence",title:"Detailed Violence"},{reason:"level_hatespeech",title:"Inappropriate Language"},{reason:"level_loweffort",title:"Very low effort level"},{reason:"level_glitch",title:"Requires to use a Glitch to finish"},{reason:"level_other",title:"Other"}];return this.isAdmin&&this.config==="level_hide"&&e.push({reason:"no_punish",title:"Don't punish"}),e}else return[{reason:"user_hatespeech",title:"Inappropriate Language"},{reason:"user_behavior",title:"Inappropriate Behavior"},{reason:"user_noise",title:"Loud music / Screeching / other weird noises"},{reason:"user_other",title:"Other"}]},...P(C,["accessToken"]),...P(C,["isAdmin"])},methods:{async doModerationAction(){const e=this.currentSelection;if(this.$emit("close"),this.config==="level_hide"){if(!await $n(this.$api_server_url,this.accessToken,this.identifier))return;if(e!=="no_punish"){const t=this.identifier.split(":")[0];if(!await Ue(this.$api_server_url,this.accessToken,t,e)||!await ge(this.$api_server_url,this.accessToken,t))return}}else if(this.config==="level_report"){if(!await En(this.$api_server_url,this.accessToken,this.identifier,e.replace("level_","")))return}else if(this.config==="user_ban"&&(!await Ue(this.$api_server_url,this.accessToken,this.identifier,e)||!await ge(this.$api_server_url,this.accessToken,this.identifier)))return;this.$emit("handled",!0)}}},Bn=e=>(Y("data-v-7ab1539f"),e=e(),X(),e),xn={key:0,class:"modal-mask"},On={class:"modal-container"},Un={key:0,class:"modal-header"},Hn={key:1,class:"modal-header"},Dn={key:2,class:"modal-header"},Nn={key:3,class:"modal-header"},jn={class:"modal-body"},qn=Bn(()=>m("option",{value:""},"- Select -",-1)),Vn=["id","value"],Fn={class:"modal-footer"};function zn(e,t,s,r,o,n){return u(),B(Ut,{name:"modal"},{default:dt(()=>[s.show?(u(),p("div",xn,[m("div",On,[s.config==="level_hide"?(u(),p("div",Un,"Hide Level")):s.config==="level_report"?(u(),p("div",Hn,"Report Level")):s.config==="user_report"?(u(),p("div",Dn,"Report User")):s.config==="user_ban"?(u(),p("div",Nn,"Ban User")):k("",!0),m("div",jn,[m("form",null,[Ht(m("select",{style:{width:"70%"},"onUpdate:modelValue":t[0]||(t[0]=i=>o.currentSelection=i)},[qn,(u(!0),p(D,null,oe(n.options,i=>(u(),p("option",{id:i.reason,value:i.reason},x(i.title),9,Vn))),256))],512),[[Dt,o.currentSelection]])])]),m("div",Fn,[m("button",{class:"modal-default-button",onClick:t[1]||(t[1]=(...i)=>n.doModerationAction&&n.doModerationAction(...i))},"OK"),m("button",{class:"modal-default-button",onClick:t[2]||(t[2]=i=>e.$emit("close",!1))},"CANCEL")])])])):k("",!0)]),_:1})}const Le=$(Mn,[["render",zn],["__scopeId","data-v-7ab1539f"]]);async function Gn(e,t,s){const r=s.split(":"),o=r[0]+"/"+r[1],n=await fetch(e+"ignore_reports/"+o,{headers:{Authorization:"Bearer "+t}}),i=await n.text();return n.status!=200||i!=="Success"?(confirm("Error: "+i),!1):!0}const Kn={components:{ModerationInfo:St,ModerationPopup:Le},emits:["handled"],props:{moderationItem:Object},data(){return{showModerationPopup:!1}},computed:{reports(){return Object.entries(this.moderationItem).filter(([e])=>e.includes("reported_score_"))},isLevel(){return this.moderationItem.object_type==="level"},popupConfig(){return this.isLevel?"level_hide":"user_ban"},bestReason(){let e="",t=0;for(var s in this.moderationItem)s.startsWith("reported_score_")&&this.moderationItem[s]>t&&(t=this.moderationItem[s],e=s.slice(15));return e},...P(C,["accessToken"])},methods:{handledModerationPopup(e){e===!0&&this.$emit("handled",!0)},async approveLevel(){await Gn(this.$api_server_url,this.accessToken,this.moderationItem.object_info.identifier)&&this.$emit("handled",!1)},async punishUser(){const e=this.moderationItem.object_info.user_id;e&&await Ue(this.$api_server_url,this.accessToken,e,"user_"+this.bestReason)&&await ge(this.$api_server_url,this.accessToken,e)&&this.$emit("handled",!0)},async resetUserReports(){const e=this.moderationItem.object_info.user_id;await ge(this.$api_server_url,this.accessToken,e)&&this.$emit("handled",!1)}}},Qn=e=>(Y("data-v-ccb68b40"),e=e(),X(),e),Wn={class:"moderation-tools"},Jn={key:0,class:"moderation-title"},Yn={key:2,class:"moderation-title"},Xn=Qn(()=>m("br",null,null,-1));function Zn(e,t,s,r,o,n){const i=A("ModerationInfo"),d=A("ModerationPopup");return u(),p(D,null,[m("div",Wn,[s.moderationItem.object_info.moderation_info?(u(),p("div",Jn,"Previous Strike:")):k("",!0),s.moderationItem.object_info.moderation_info?(u(),B(i,{key:1,info:s.moderationItem.object_info.moderation_info},null,8,["info"])):k("",!0),n.reports.length?(u(),p("div",Yn,"Reports:")):k("",!0),(u(!0),p(D,null,oe(n.reports,a=>(u(),p("div",null,x(a[0].slice(15))+": "+x(a[1]),1))),256)),Xn,n.isLevel?(u(),p("button",{key:3,class:"moderation-hide-button",onClick:t[0]||(t[0]=a=>o.showModerationPopup=!0)},"Hide")):(u(),p("button",{key:4,class:"moderation-hide-button",onClick:t[1]||(t[1]=(...a)=>n.punishUser&&n.punishUser(...a))},"Punish")),n.isLevel?(u(),p("button",{key:5,class:"moderation-approve-button",onClick:t[2]||(t[2]=(...a)=>n.approveLevel&&n.approveLevel(...a))},"Approve")):(u(),p("button",{key:6,class:"moderation-approve-button",onClick:t[3]||(t[3]=(...a)=>n.resetUserReports&&n.resetUserReports(...a))},"Reset"))]),(u(),B(be,{to:"body"},[V(d,{show:o.showModerationPopup,onClose:t[4]||(t[4]=a=>o.showModerationPopup=!1),onHandled:n.handledModerationPopup,config:n.popupConfig,identifier:s.moderationItem.object_info.identifier},null,8,["show","onHandled","config","identifier"])]))],64)}const Rt=$(Kn,[["render",Zn],["__scopeId","data-v-ccb68b40"]]);async function er(e,t,s,r){const o=s.split(":"),n=await fetch(e+"tag/"+o[0]+"/"+o[1]+"?tags="+r.join(","),{headers:{Authorization:"Bearer "+t}}),i=await n.text();return n.status!=200||i!=="Success"?(confirm("Error: "+i),!1):!0}async function tr(e,t,s){const r=s.split(":"),o=r[0]+"/"+r[1],n=await fetch(e+"remove_from_verification_queue/"+o,{headers:{Authorization:"Bearer "+t}}),i=await n.text();return n.status!=200||i!=="Success"?(confirm("Error: "+i),!1):!0}const sr={props:{levelInfo:Object},data(){return{isVerified:!1}},created(){var e,t;this.isVerified=((t=(e=this.levelInfo)==null?void 0:e.tags)==null?void 0:t.includes("ok"))??!1},computed:{...P(C,["accessToken"])},methods:{async toggleVerifyLevel(){var s;let e=((s=this.levelInfo)==null?void 0:s.tags)??[];this.isVerified?e=e.filter(r=>r!=="ok"):e.push("ok");const t=this.isVerified;if(this.isVerified=!this.isVerified,!await er(this.$api_server_url,this.accessToken,this.levelInfo.identifier,e)){this.isVerified=t;return}await tr(this.$api_server_url,this.accessToken,this.levelInfo.identifier)}}};function nr(e,t,s,r,o,n){return u(),p("div",null,[o.isVerified?(u(),p("button",{key:0,class:"moderation-unverify-button",onClick:t[0]||(t[0]=(...i)=>n.toggleVerifyLevel&&n.toggleVerifyLevel(...i))},"Unverify")):(u(),p("button",{key:1,class:"moderation-verify-button",onClick:t[1]||(t[1]=(...i)=>n.toggleVerifyLevel&&n.toggleVerifyLevel(...i))},"Verify"))])}const rr=$(sr,[["render",nr],["__scopeId","data-v-19dd13da"]]);const or={components:{ModerationPopup:Le},emits:["handled"],props:{level_id:String},data(){return{showModerationPopup:!1}},methods:{handledModerationPopup(e){e===!0&&this.$emit("handled",!0)}}},ir={class:"moderation-hide-level-button-container"};function ar(e,t,s,r,o,n){const i=A("ModerationPopup");return u(),p(D,null,[m("div",ir,[m("button",{class:"moderation-hide-level-button",onClick:t[0]||(t[0]=d=>o.showModerationPopup=!0)},"Hide")]),(u(),B(be,{to:"body"},[V(i,{show:o.showModerationPopup,onClose:t[1]||(t[1]=d=>o.showModerationPopup=!1),onHandled:n.handledModerationPopup,config:"level_hide",identifier:s.level_id},null,8,["show","onHandled","identifier"])]))],64)}const lr=$(or,[["render",ar],["__scopeId","data-v-66939775"]]);async function cr(e,t,s){const r=s.split(":"),o=r[0]+"/"+r[1],n=await fetch(e+"show/"+o,{headers:{Authorization:"Bearer "+t}}),i=await n.text();return n.status!=200||i!=="Success"?(confirm("Error: "+i),!1):!0}const ur={props:{level_id:String},computed:{...P(C,["accessToken"])},methods:{async doModerationAction(){await cr(this.$api_server_url,this.accessToken,this.level_id)}}},dr={class:"moderation-unhide-level-button-container"};function hr(e,t,s,r,o,n){return u(),p("div",dr,[m("button",{class:"moderation-unhide-level-button",onClick:t[0]||(t[0]=(...i)=>n.doModerationAction&&n.doModerationAction(...i))},"Unhide")])}const fr=$(ur,[["render",hr],["__scopeId","data-v-7a4ec664"]]);async function _r(e,t,s){const r=await fetch(e+"add_favorite_level?level_id="+t+"&access_token="+s);if(r.status!=200){const o=await r.text();return confirm("Error: "+o),!1}return!0}async function pr(e,t,s){const r=await fetch(e+"remove_favorite_level?level_id="+t+"&access_token="+s),o=await r.text();return r.status!=200||o!=="Success"?(confirm("Error: "+o),!1):!0}const vr="/assets/star_on-2508dfaf.svg",mr="/assets/star_off-ab14e2aa.svg";const yr={props:{level_id:String},computed:{...P(C,["accessToken"]),isFavorited(){return C().isFavorited(this.level_id)}},methods:{async addFavoriteLevel(){if(this.accessToken){const e=C();await _r(this.$api_server_url,this.level_id,this.accessToken)===!0&&e.addFavoriteLevel(this.level_id)}},async removeFavoriteLevel(){if(this.accessToken){const e=C();await pr(this.$api_server_url,this.level_id,this.accessToken)===!0&&e.removeFavoriteLevel(this.level_id)}}}};function gr(e,t,s,r,o,n){return n.isFavorited?(u(),p("img",{key:0,class:"favorite-button",onClick:t[0]||(t[0]=(...i)=>n.removeFavoriteLevel&&n.removeFavoriteLevel(...i)),src:vr,alt:"Add to Favorites"})):(u(),p("img",{key:1,class:"favorite-button",onClick:t[1]||(t[1]=(...i)=>n.addFavoriteLevel&&n.addFavoriteLevel(...i)),src:mr,alt:"Remove from Favorites"}))}const br=$(yr,[["render",gr],["__scopeId","data-v-a89fbac4"]]),kr="/assets/report-b789e4a2.png";const wr={components:{ModerationPopup:Le},props:{level_id:String},data(){return{showModerationPopup:!1}}};function Lr(e,t,s,r,o,n){const i=A("ModerationPopup");return u(),p(D,null,[m("img",{class:"report-level-button",onClick:t[0]||(t[0]=d=>o.showModerationPopup=!0),src:kr}),(u(),B(be,{to:"body"},[V(i,{show:o.showModerationPopup,onClose:t[1]||(t[1]=d=>o.showModerationPopup=!1),config:"level_report",identifier:s.level_id,alt:"Report Level"},null,8,["show","identifier"])]))],64)}const Cr=$(wr,[["render",Lr],["__scopeId","data-v-20494ba8"]]);const Sr={components:{ReportModerationTools:Rt,VerifyLevelButton:rr,HideLevelButton:lr,UnhideLevelButton:fr,FavoriteLevelButton:br,ReportLevelButton:Cr},emit:["more"],props:{item:Object,moderationItem:Object,index:Number,listType:String},data(){return{cardColor:"white"}},computed:{creators(){return this.item.creators&&this.item.creators.length>0?"by "+this.item.creators.join(", "):""},hasImage(){return!!(this.item.images&&this.item.images.thumb)},hasStatistics(){return!this.moderationItem},difficulty(){let e="unrated",t="#969696";return"statistics"in this.item&&"difficulty"in this.item.statistics&&"total_played"in this.item.statistics&&this.item.statistics.difficulty!==1&&this.item.statistics.total_played>0&&(this.item.statistics.difficulty<.01?(e="very hard",t="#EA0000"):this.item.statistics.difficulty<.1?(e="hard",t="#F19400"):this.item.statistics.difficulty<.4?(e="medium",t="#E1C800"):(e="easy",t="#2BBA84")),{difficulty:e,color:t}},viewerURL(){return"/levels/viewer/?level="+this.item.identifier},hasOKStamp(){var e;return((e=this.item.tags)==null?void 0:e.includes("ok"))??!1},isModerationCell(){return this.moderationItem!==null},isHidden(){return this.item.hidden===!0},...P(C,["isModerator"]),...P(C,["isAdmin"]),...P(C,["isLoggedIn"])},created(){this.item.hidden===!0&&(this.cardColor="lightcoral")},methods:{didHandleCell(e){e===!0?this.cardColor="lightcoral":this.cardColor="lightgreen"},showMoreLevels(e){this.$emit("more",this.item.identifier.split(":")[0])},setListIndex(e){C().setListIndex(e)}}},Rr=["src","width","height"],Ir={key:2,class:"plays"},Tr={key:3},Ar={class:"title"},Pr={class:"creators"},Er={class:"description"},$r=["href"],Mr={key:10,alt:"OK Stamp",class:"stamp",src:Nt,width:"453",height:"180"};function Br(e,t,s,r,o,n){const i=A("VerifyLevelButton"),d=A("HideLevelButton"),a=A("UnhideLevelButton"),f=A("ReportModerationTools"),l=A("FavoriteLevelButton"),_=A("ReportLevelButton");return u(),p("div",{class:"level-card",style:me({"background-color":o.cardColor})},[n.hasImage?(u(),p("img",{key:0,class:"thumbnail",src:this.$images_server_url+this.item.images.thumb.key,width:this.item.images.thumb.width,height:this.item.images.thumb.height},null,8,Rr)):k("",!0),n.hasStatistics?(u(),p("div",{key:1,style:me({color:n.difficulty.color}),class:"difficulty"},x(n.difficulty.difficulty),5)):k("",!0),n.hasStatistics&&s.item.statistics?(u(),p("div",Ir,"plays: "+x(s.item.statistics.total_played),1)):k("",!0),n.hasStatistics?(u(),p("br",Tr)):k("",!0),m("div",Ar,x(s.item.title),1),m("div",Pr,x(n.creators),1),m("div",{class:"more-button",onClick:t[0]||(t[0]=(...h)=>n.showMoreLevels&&n.showMoreLevels(...h))},"More Levels"),m("div",Er,x(s.item.description),1),e.isModerator?(u(),B(i,{key:4,"level-info":s.item},null,8,["level-info"])):k("",!0),e.isAdmin&&!n.isModerationCell&&!n.isHidden?(u(),B(d,{key:5,level_id:s.item.identifier,onHandled:n.didHandleCell},null,8,["level_id","onHandled"])):k("",!0),e.isAdmin&&!n.isModerationCell&&n.isHidden?(u(),B(a,{key:6,level_id:s.item.identifier,onHandled:n.didHandleCell},null,8,["level_id","onHandled"])):k("",!0),n.isModerationCell?(u(),B(f,{key:7,"moderation-item":s.moderationItem,onHandled:n.didHandleCell},null,8,["moderation-item","onHandled"])):k("",!0),e.isLoggedIn?(u(),B(l,{key:8,level_id:s.item.identifier},null,8,["level_id"])):k("",!0),e.isLoggedIn?(u(),B(_,{key:9,level_id:s.item.identifier},null,8,["level_id"])):k("",!0),m("a",{target:"_blank",href:n.viewerURL+(this.listType=="tab_verify_queue"?"&verify_queue":""),class:"play-button",onClick:t[1]||(t[1]=h=>n.setListIndex(s.index))},"OPEN",8,$r),n.hasOKStamp?(u(),p("img",Mr)):k("",!0)],4)}const xr=$(Sr,[["render",Br],["__scopeId","data-v-ae4dac63"]]);async function Or(e,t,s){const r=await fetch(e+"moderation_action_remove/"+s,{headers:{Authorization:"Bearer "+t}}),o=await r.text();return r.status!=200||o!=="Success"?(confirm("Error: "+o),!1):!0}const Ur={components:{ModerationInfo:St,ModerationPopup:Le},emits:["handled"],props:{userInfo:Object},data(){return{showModerationPopup:!1}},computed:{popupConfig(){return"user_ban"},...P(C,["accessToken"])},methods:{handledModerationPopup(e){e===!0&&this.$emit("handled",!0)},async removeModerationAction(){const e=this.userInfo.user_id;await Or(this.$api_server_url,this.accessToken,e)&&this.$emit("handled",!1)}}},Hr=e=>(Y("data-v-617b71c0"),e=e(),X(),e),Dr={class:"moderation-tools"},Nr={key:0,class:"moderation-title"},jr=Hr(()=>m("br",null,null,-1));function qr(e,t,s,r,o,n){const i=A("ModerationInfo"),d=A("ModerationPopup");return u(),p(D,null,[m("div",Dr,[s.userInfo.moderation_info?(u(),p("div",Nr,"Current Strike:")):k("",!0),s.userInfo.moderation_info?(u(),B(i,{key:1,info:s.userInfo.moderation_info},null,8,["info"])):k("",!0),jr,m("button",{class:"moderation-hide-button",onClick:t[0]||(t[0]=a=>o.showModerationPopup=!0)},"Punish"),m("button",{class:"moderation-approve-button",onClick:t[1]||(t[1]=(...a)=>n.removeModerationAction&&n.removeModerationAction(...a))},"Remove Strike")]),(u(),B(be,{to:"body"},[V(d,{show:o.showModerationPopup,onClose:t[2]||(t[2]=a=>o.showModerationPopup=!1),onHandled:n.handledModerationPopup,config:n.popupConfig,identifier:s.userInfo.user_id},null,8,["show","onHandled","config","identifier"])]))],64)}const Vr=$(Ur,[["render",qr],["__scopeId","data-v-617b71c0"]]),Fr="/assets/creator-bde98776.png";const zr={components:{ReportModerationTools:Rt,UserModerationTools:Vr},emit:["profile"],props:{item:Object,moderationItem:Object},data(){return{cardColor:"white"}},computed:{creators(){return this.item.creators&&this.item.creators.length>0?"by "+this.item.creators.join(", "):""},isReportModerationCell(){return this.moderationItem!==null},isUserModerationCell(){return this.moderationItem===null&&this.isAdmin},...P(C,["isAdmin"])},methods:{didHandleCell(e){e===!0?this.cardColor="lightcoral":this.cardColor="lightgreen"},showProfile(){this.$emit("profile",this.item.user_id)}}},Gr={class:"user-name"},Kr={key:0,alt:"OK Stamp",class:"creator-icon",src:Fr},Qr={key:1,class:"level-count"},Wr={key:2,class:"user-id"};function Jr(e,t,s,r,o,n){const i=A("ReportModerationTools"),d=A("UserModerationTools");return u(),p("div",{class:"user-card",style:me({"background-color":o.cardColor})},[m("div",Gr,x(s.item.user_name),1),s.item.is_creator?(u(),p("img",Kr)):k("",!0),s.item.user_level_count?(u(),p("div",Qr,"Levels: "+x(s.item.user_level_count),1)):k("",!0),e.isAdmin?(u(),p("div",Wr,"User ID: "+x(s.item.user_id),1)):k("",!0),n.isReportModerationCell?(u(),B(i,{key:3,"moderation-item":s.moderationItem,onHandled:n.didHandleCell},null,8,["moderation-item","onHandled"])):k("",!0),n.isUserModerationCell?(u(),B(d,{key:4,"user-info":s.item,onHandled:n.didHandleCell},null,8,["user-info","onHandled"])):k("",!0),m("div",{class:"profile-button",onClick:t[0]||(t[0]=(...a)=>n.showProfile&&n.showProfile(...a))},"PROFILE")],4)}const Yr=$(zr,[["render",Jr],["__scopeId","data-v-c3f19f06"]]),Xr="/assets/rick_astley-4d437f67.png";const Zr={components:{CardLevel:xr,CardUser:Yr},emits:["tabChanged"],props:{listType:String,searchTerm:String,otherUserID:String},data(){return{items:[],loading:!1,isInitialLoad:!0}},created(){let e=this.$route.query;Object.keys(e).length===0&&(e=localStorage.getItem("currentLocation"),e?(localStorage.removeItem("currentLocation"),e=JSON.parse(e)):e={});const t=e.user_id;let s=e.tab;const r=e.search;if(s||(s="tab_newest"),t)this.$emit("tabChanged",{tab:"tab_other_user",user_id:t});else if(r&&r.length>0||s!==this.listType&&s!=="tab_featured"){let o={tab:s};r&&(o.search=r),this.$emit("tabChanged",o)}else this.loadMore()},computed:{wantsUserCells(){return["tab_search_users","tab_reported_users","tab_banned_users"].includes(this.listType)},wantsModerationUserCells(){return["tab_reported_users"].includes(this.listType)},wantsModerationLevelCells(){return["tab_reported_levels"].includes(this.listType)},...P(C,["isLoggedIn"]),...P(C,["userID"]),...P(C,["accessToken"])},watch:{async listType(e){this.isInitialLoad&&this.loading||(this.items=[],this.nextPage=null,await this.loadMore())},async searchTerm(e){this.isInitialLoad&&this.loading||(this.items=[],this.nextPage=null,await this.loadMore())}},methods:{async loadLevels(){const e=await ht(this.$api_server_url,this.accessToken,this.listType,this.searchTerm,this.$max_level_format_version,this.otherUserID?this.otherUserID:this.userID,this.nextPage);return e!==!1?(e&&e.length>0?this.nextPage=e[e.length-1].page_timestamp:this.nextPage=null,this.listType==="tab_favorite_levels"?e.reverse():e):[]},async loadMore(){this.loading=!0;const e=this.listType,t=this.searchTerm,s=await this.loadLevels();if(t!==this.searchTerm||e!==this.listType)return;this.items=[...this.items,...s],C().setList(this.items),this.loading=!1,this.isInitialLoad=!1},handleScroll(){const e=window.scrollY,t=window.innerHeight,s=document.documentElement.scrollHeight;e+t>=s&&!this.loading&&this.nextPage!==void 0&&this.loadMore()},async showOtherUserLevels(e){this.$emit("tabChanged",{tab:"tab_other_user",user_id:e})}},mounted(){window.addEventListener("scroll",this.handleScroll)},destroyed(){window.removeEventListener("scroll",this.handleScroll)}},eo={key:0,class:"rick",src:Xr},to={class:"grid-container"},so={key:1,class:"loading"};function no(e,t,s,r,o,n){const i=A("CardUser"),d=A("CardLevel");return u(),p(D,null,[s.otherUserID=="29sgp24f1uorbc6vq8d2k"?(u(),p("img",eo)):k("",!0),m("div",to,[(u(!0),p(D,null,oe(o.items,(a,f)=>(u(),p("div",{key:f,class:"grid-item"},[n.wantsUserCells?(u(),B(i,{key:0,item:"object_info"in a?a.object_info:a,moderationItem:"object_info"in a?a:null,onProfile:n.showOtherUserLevels},null,8,["item","moderationItem","onProfile"])):(u(),B(d,{key:1,item:"object_info"in a?a.object_info:a,moderationItem:"object_info"in a?a:null,index:f,listType:s.listType,onMore:n.showOtherUserLevels},null,8,["item","moderationItem","index","listType","onMore"]))]))),128))]),o.loading?(u(),p("div",so,"Loading more items...")):k("",!0)],64)}const It=$(Zr,[["render",no],["__scopeId","data-v-b8fd6def"]]);const ro={methods:{login(){localStorage.setItem("currentLocation",JSON.stringify(this.$route.query)),window.location.href="https://auth.oculus.com/sso/?redirect_uri="+this.$page_url+"/levels&organization_id=1298096256894263"},logout(){C().$reset()}},async created(){let e=null;if(window.location.hash.length>0){let s=this.$route.hash.substring(1),r=atob(s);e=JSON.parse(r),this.$router.replace({path:this.$route.path})}const t=C();await t.fetchUser(this.$api_server_url,e),await t.fetchUsersFavorites(this.$api_server_url,this.$max_level_format_version)},computed:{...P(C,["isLoggedIn"])}};function oo(e,t,s,r,o,n){return e.isLoggedIn?(u(),p("button",{key:0,class:"logout-button",type:"button",onClick:t[0]||(t[0]=(...i)=>n.logout&&n.logout(...i))},"Logout")):(u(),p("button",{key:1,class:"login-button",type:"button",onClick:t[1]||(t[1]=(...i)=>n.login&&n.login(...i))},"Login with Meta"))}const io=$(ro,[["render",oo],["__scopeId","data-v-67127428"]]);async function ao(e){const t=await fetch(e+"get_level_browser?version=1"),s=await t.text();return t.status!=200?!1:JSON.parse(s)}const lo={computed:{...P(C,["isAdmin"]),...P(C,["accessToken"]),isSection(){return this.currentSection.hasOwnProperty("sections")},isList(){return this.currentSection.hasOwnProperty("list_key")}},components:{ScrollList:It},data(){return{featured:{},currentSection:{},displayingLevels:!1}},emits:["tabChanged"],methods:{async loadFeatured(){const e=await ao(this.$api_server_url);return e!==!1?e:[]},tabChanged(e){this.$emit("tabChanged",e)},handleBack(){this.currentSection=this.featured},setSection(e){if(console.log(e),e.hasOwnProperty("list_key")&&e.list_key.startsWith("user:")){const t=e.list_key.split(":")[1];this.tabChanged({tab:"tab_other_user",user_id:t})}this.currentSection=e},shouldRenderSection(e){return!(e.hasOwnProperty("list_key")&&(e.list_key.startsWith("builtin:")||["ok","newest"].includes(e.list_key))||e.hasOwnProperty("type")&&e.type==="space")},isSpace(e){return e.hasOwnProperty("type")&&e.type==="space"}},async mounted(){let e=await this.loadFeatured();this.featured=e,this.currentSection=this.featured}},co={class:"section-header"},uo={key:1,class:"section-title"},ho={key:0},fo={key:1,class:"sections"},_o={class:"section-element-title"},po=["onClick"];function vo(e,t,s,r,o,n){const i=A("ScrollList");return u(),p(D,null,[m("div",co,[this.currentSection!==this.featured?(u(),p("button",{key:0,onClick:t[0]||(t[0]=(...d)=>this.handleBack&&this.handleBack(...d))},"back")):k("",!0),this.currentSection!==this.featured?(u(),p("h2",uo,x(this.currentSection.hasOwnProperty("title_short")?this.currentSection.title_short:this.currentSection.title),1)):k("",!0)]),n.isList?(u(),p("div",ho,[V(i,{listType:this.currentSection.list_key,searchTerm:"",otherUserID:null,onTabChanged:t[1]||(t[1]=d=>this.tabChanged(d))},null,8,["listType"])])):n.isSection?(u(),p("div",fo,[(u(!0),p(D,null,oe(this.currentSection.sections,d=>(u(),p("div",_o,[n.shouldRenderSection(d)?(u(),p("div",{key:0,class:"section-button",onClick:a=>this.setSection(d)},x(d.title),9,po)):n.isSpace(d)?(u(),p("div",{key:1,style:me(`height: ${d.size/4}px`)},null,4)):k("",!0)]))),256))])):k("",!0)],64)}const mo=$(lo,[["render",vo],["__scopeId","data-v-30d27c1c"]]);const yo={components:{NavBar:fn,LevelTitle:yn,UserTitle:Sn,ScrollList:It,LoginButton:io,Featured:mo},data(){return{tabActive:"tab_newest",searchTerm:"",userID:null}},computed:{...P(C,["isAdmin"]),...P(C,["accessToken"]),showLevelTitle(){return["tab_newest","tab_ok","tab_favorite_levels"].includes(this.tabActive)},showUserTitle(){return["tab_my_levels","tab_other_user"].includes(this.tabActive)}},methods:{tabChanged(e){this.tabActive=e.tab,"search"in e?this.searchTerm=e.search:this.searchTerm="","user_id"in e?this.userID=e.user_id:this.userID=null,this.$router.push({query:e})},searchChanged(e){this.userID=null,this.searchTerm=e;let t={tab:this.tabActive};e&&e.length>0&&(t.search=e),this.$router.push({query:t})},openCuration(){window.location.href="/curation/"},async copyAccessToken(e){await navigator.clipboard.writeText(this.accessToken)}}},go=e=>(Y("data-v-feb3f564"),e=e(),X(),e),bo=go(()=>m("img",{alt:"GRAB logo",class:"logo",src:Ct},null,-1));function ko(e,t,s,r,o,n){const i=A("LoginButton"),d=A("NavBar"),a=A("LevelTitle"),f=A("UserTitle"),l=A("Featured"),_=A("ScrollList");return u(),p(D,null,[m("header",null,[bo,V(i),e.isAdmin?(u(),p("button",{key:0,class:"access-token-button",type:"button",onClick:t[0]||(t[0]=(...h)=>n.copyAccessToken&&n.copyAccessToken(...h))},"Access Token")):k("",!0),e.isAdmin?(u(),p("button",{key:1,class:"curation-button",type:"button",onClick:t[1]||(t[1]=(...h)=>n.openCuration&&n.openCuration(...h))},"Curation")):k("",!0),V(d,{"tab-active":o.tabActive,onTabChanged:t[2]||(t[2]=h=>this.tabChanged(h)),onSearchChanged:t[3]||(t[3]=h=>this.searchChanged(h)),"search-term":o.searchTerm},null,8,["tab-active","search-term"]),n.showLevelTitle?(u(),B(a,{key:2,"tab-active":o.tabActive},null,8,["tab-active"])):k("",!0)]),m("main",null,[n.showUserTitle?(u(),B(f,{key:0,"other-user-i-d":o.userID},null,8,["other-user-i-d"])):k("",!0),o.tabActive==="tab_featured"?(u(),B(l,{key:1,onTabChanged:t[4]||(t[4]=h=>this.tabChanged(h))})):(u(),B(_,{key:2,"list-type":o.tabActive,"search-term":o.searchTerm,"other-user-i-d":o.userID,onTabChanged:t[5]||(t[5]=h=>this.tabChanged(h))},null,8,["list-type","search-term","other-user-i-d"]))])],64)}const wo=$(yo,[["render",ko],["__scopeId","data-v-feb3f564"]]);async function Lo(e,t,s,r,o){const n=await fetch(e+"add_to_curated_list?level_id="+s+"&list_key="+r+"&level_key="+o,{headers:{Authorization:"Bearer "+t}}),i=await n.text();return n.status!=200||i!=="Success"?(confirm("Error: "+i),!1):!0}async function Co(e,t,s,r){const o=await fetch(e+"remove_from_curated_list?level_id="+s+"&list_key="+r,{headers:{Authorization:"Bearer "+t}}),n=await o.text();return o.status!=200||n!=="Success"?(confirm("Error: "+n),!1):!0}async function So(e,t){const s=await fetch(e+"details/"+t.split(":").join("/")),r=await s.text();return s.status!=200?(confirm("Error: "+r),!1):JSON.parse(r)}const Ro={props:{item:Object},computed:{creators(){return this.item.creators&&this.item.creators.length>0?"by "+this.item.creators.join(", "):""},viewerURL(){return"levels/viewer/?level="+this.item.identifier}}},Io={class:"level-card"},To={class:"title"},Ao={class:"creators"},Po={class:"description"},Eo=["href"];function $o(e,t,s,r,o,n){return u(),p("div",Io,[m("div",To,x(s.item.title),1),m("div",Ao,x(n.creators),1),m("div",Po,x(s.item.description),1),m("a",{target:"_blank",href:n.viewerURL,class:"open-button"},"OPEN",8,Eo)])}const Mo=$(Ro,[["render",$o],["__scopeId","data-v-9d8dbbfb"]]);const Bo={components:{CurationLevelCard:Mo},props:{type:String},computed:{...P(C,["accessToken"])},data(){return{selected:0,oldLevelList:[],levelList:[]}},created(){this.updateType()},watch:{type:function(){this.updateType()}},methods:{async updateType(){if(this.type){const e=await ht(this.$api_server_url,this.accessToken,`curated_${this.type}`,!1,this.$max_level_format_version,!1,!1);e&&(this.oldLevelList=e,this.levelList=this.oldLevelList.slice())}},async addLevels(){let e=prompt("Please enter the list of URLs, each one in a new line: ");if(e!==null){let t=e.split(`
`);for(const s of t){let o=s.split("level=")[1];const n=await So(this.$api_server_url,o);n&&this.levelList.push(n)}}},removeLevel(){let e=this.selected;this.levelList.splice(e,1)},moveLevelUp(){let e=this.selected;if(e>0){let t=this.levelList[e],s=this.levelList[e-1];this.levelList[e-1]=t,this.levelList[e]=s,this.setSelected(e-1)}},moveLevelDown(){let e=this.selected;if(e<this.levelList.length-1){let t=this.levelList[e],s=this.levelList[e+1];this.levelList[e+1]=t,this.levelList[e]=s,this.setSelected(e+1)}},sendUpdates(){if(!this.accessToken){alert("No access token!");return}for(let e=0;e<this.levelList.length;e++){let t=this.levelList[e].identifier;this.oldLevelList.findIndex(r=>r.identifier===t)!==e&&(Lo(this.$api_server_url,this.accessToken,t,this.type,e.toString().padStart(8,"0")),console.log(t,this.type,e.toString().padStart(8,"0")))}for(let e=0;e<this.oldLevelList.length;e++){let t=this.oldLevelList[e].identifier;this.levelList.findIndex(r=>r.identifier===t)===-1&&(Co(this.$api_server_url,this.accessToken,t,this.type),console.log(t,this.type))}this.oldLevelList=this.levelList.slice()},setSelected(e){this.selected=e}}},pe=e=>(Y("data-v-febf8711"),e=e(),X(),e),xo={id:"levelList"},Oo={id:"controls"},Uo=pe(()=>m("br",null,null,-1)),Ho=pe(()=>m("br",null,null,-1)),Do=pe(()=>m("br",null,null,-1)),No=pe(()=>m("br",null,null,-1)),jo=pe(()=>m("br",null,null,-1));function qo(e,t,s,r,o,n){const i=A("CurationLevelCard");return u(),p(D,null,[m("div",xo,[(u(!0),p(D,null,oe(o.levelList,(d,a)=>(u(),p("div",{key:a,class:q("grid-item"+(a===o.selected?" selected":""))},[V(i,{item:d,onClick:f=>n.setSelected(a)},null,8,["item","onClick"])],2))),128))]),m("div",Oo,[m("input",{type:"button",value:"Add Levels",id:"add-levels-button",onClick:t[0]||(t[0]=(...d)=>n.addLevels&&n.addLevels(...d))}),Uo,m("input",{type:"button",value:"Remove Level",id:"remove-levels-button",onClick:t[1]||(t[1]=(...d)=>n.removeLevel&&n.removeLevel(...d))}),Ho,m("input",{type:"button",value:"Move Level Up",id:"move-up-button",onClick:t[2]||(t[2]=(...d)=>n.moveLevelUp&&n.moveLevelUp(...d))}),Do,m("input",{type:"button",value:"Move Level Down",id:"move-down-button",onClick:t[3]||(t[3]=(...d)=>n.moveLevelDown&&n.moveLevelDown(...d))}),No,jo,m("input",{type:"button",value:"Send",id:"send-button",onClick:t[4]||(t[4]=(...d)=>n.sendUpdates&&n.sendUpdates(...d))})])],64)}const Vo=$(Bo,[["render",qo],["__scopeId","data-v-febf8711"]]);async function Fo(e,t,s){const r=await fetch(e+"add_curated_list?name="+s,{headers:{Authorization:"Bearer "+t}}),o=await r.text();return r.status!=200?(confirm("Error: "+o),!1):JSON.parse(o)}const zo={computed:{...P(C,["accessToken"])},emits:["handled"],methods:{async addNewList(){if(!this.accessToken){alert("No access token!");return}const e=prompt("Please enter the name of the new list:");if(e){const t=await Fo(this.$api_server_url,this.accessToken,e);t&&this.$emit("handled",t)}}}};function Go(e,t,s,r,o,n){return u(),p("button",{class:"button",id:"add-new-list-button",onClick:t[0]||(t[0]=(...i)=>n.addNewList&&n.addNewList(...i))},"Add List")}const Ko=$(zo,[["render",Go],["__scopeId","data-v-c77aa0c1"]]);async function Qo(e,t,s){const r=await fetch(e+"remove_curated_list?name="+s,{headers:{Authorization:"Bearer "+t}}),o=await r.text();return r.status!=200?(confirm("Error: "+o),!1):JSON.parse(o)}const Wo={computed:{...P(C,["accessToken"])},emits:["handled"],methods:{async removeList(){if(!this.accessToken){alert("No access token!");return}const e=prompt("Please enter the name of the list to remove:");if(e){const t=await Qo(this.$api_server_url,this.accessToken,e);t&&this.$emit("handled",t)}}}};function Jo(e,t,s,r,o,n){return u(),p("button",{class:"button",id:"remove-list-button",onClick:t[0]||(t[0]=(...i)=>n.removeList&&n.removeList(...i))},"Remove List")}const Yo=$(Wo,[["render",Jo],["__scopeId","data-v-0d6a3eea"]]);async function Xo(e){const t=await fetch(e+"get_curated_lists/"),s=await t.text();return t.status!=200?(confirm("Error: "+s),!1):JSON.parse(s)}const Zo={components:{CurationControls:Vo,NewCurationButton:Ko,RemoveCurationButton:Yo},computed:{...P(C,["isAdmin"]),...P(C,["accessToken"])},data(){return{typeSelector:null,typesList:[],selected:0,type:""}},async created(){const e=await Xo(this.$api_server_url);e&&(this.typesList=e,this.displayTypeSelector(),this.handleTypeChange())},mounted(){this.typeSelector=document.getElementById("typeSelector")},methods:{async handleTypeChange(){this.type=this.typeSelector.options[this.typeSelector.selectedIndex].value},handleTypeListUpdate(e){this.typesList=e,this.displayTypeSelector()},displayTypeSelector(){this.typeSelector.innerHTML="";for(let e=0;e<this.typesList.length;e++){let t=this.typesList[e],s=document.createElement("option");s.value=t,s.text=t,this.typeSelector.appendChild(s)}}}},Tt=e=>(Y("data-v-cb9b749e"),e=e(),X(),e),ei=Tt(()=>m("a",{class:"back-button",href:"/levels"},"Back",-1)),ti=Tt(()=>m("h1",null,"Curated Level Lists",-1)),si={id:"buttonWrapper"},ni={id:"typeSelectorWrapper"},ri={id:"container"};function oi(e,t,s,r,o,n){const i=A("NewCurationButton"),d=A("RemoveCurationButton"),a=A("CurationControls");return u(),p(D,null,[ei,ti,m("div",si,[V(i,{onHandled:n.handleTypeListUpdate},null,8,["onHandled"]),V(d,{onHandled:n.handleTypeListUpdate},null,8,["onHandled"])]),m("div",ni,[m("select",{id:"typeSelector",onChange:t[0]||(t[0]=(...f)=>n.handleTypeChange&&n.handleTypeChange(...f))},null,32)]),m("div",ri,[V(a,{type:o.type},null,8,["type"])])],64)}const ii=$(Zo,[["render",oi],["__scopeId","data-v-cb9b749e"]]),ai=[{path:"/",component:on},{path:"/levels",component:wo},{path:"/curation",component:ii}],li=Js({history:hs(),routes:ai});const ee=jt(Qt);ee.config.globalProperties.$api_server_url=qt;ee.config.globalProperties.$images_server_url=Vt;ee.config.globalProperties.$page_url=Ft;ee.config.globalProperties.$max_level_format_version=zt;ee.use(li);const At=Gt();At.use(Kt);ee.use(At);ee.mount("#app");